
<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, minimum-scale=1.0"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <title>Nhóm 2</title>
  </head>

  <style>
    /* Start Navbar */
    :root {
      --color-primary: linear-gradient(to right, #cc2b5e, #753a88);
    }
    *.box-shadow {
      box-shadow: 0 0.5rem 1.5rem rgba(0, 0, 0, 0.1);
    }

    .userpage-logo {
      width: 4.375rem;
      height: 4.375rem;
    }

    .navbar-nav {
      align-items: center !important;
    }
    .li-hover {
      position: relative;
      display: inline-block;
      padding: 5px 0.4rem;
      background-color: transparent;
      border: 0;
    }

    .li-hover span {
      position: absolute;
      background-image: var(--color-primary);
      display: block;
      transition: all 0.5s ease;
    }

    .li-hover span:first-child {
      top: 0;
      left: 0;
      width: 0;
      height: 2px;
    }

    .li-hover span:nth-child(2) {
      right: -1px;
      top: 0;
      width: 2px;
      height: 0;
    }
    .li-hover span:nth-child(3) {
      bottom: 0;
      right: -1px;
      width: 0;
      height: 2px;
    }
    .li-hover span:last-child {
      bottom: 0;
      left: 0;
      width: 2px;
      height: 0;
    }

    .li-hover:hover span:nth-child(odd) {
      width: 100%;
    }
    .li-hover:hover span:nth-child(even) {
      height: 100%;
    }

    .li-hover:hover {
      background: var(--color-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: purple;
    }
    .nav-link:hover {
      color: black;
      cursor: pointer;
    }

    .nav-link {
      color: black;
    }
    .nav-link:focus {
      color: black;
    }
    .dropdown-item:active {
      background-color: #7eabed;
    }

    /* End Navbar */

    @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap");
    body {
      line-height: 1.5;
      font-family: "Poppins", sans-serif;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    ul {
      list-style: none;
    }
    .footer {
      background-color: #24262b;
      padding: 70px 0;
    }
    .footer-col {
      width: 25%;
      padding: 0 15px;
    }
    .footer-col h4 {
      font-size: 18px;
      color: #ffffff;
      text-transform: capitalize;
      margin-bottom: 35px;
      font-weight: 500;
      position: relative;
    }

    .footer-col ul li:not(:last-child) {
      margin-bottom: 10px;
    }
    .footer-col ul li a {
      font-size: 16px;
      text-transform: capitalize;
      color: white !important;
      text-decoration: none;
      font-weight: 300;
      display: block;
      transition: all 0.3s ease;
    }
    .footer-col ul li a:hover {
      color: white;
      padding-left: 8px;
    }
    .footer-col .social-links a {
      display: inline-block;
      height: 40px;
      width: 40px;
      background-color: rgba(255, 255, 255, 0.2);
      margin: 0 10px 10px 0;
      text-align: center;
      line-height: 40px;
      border-radius: 50%;
      color: white;
      transition: all 0.5s ease;
    }
    .footer-col .social-links a:hover {
      color: #24262b;
      background-color: #ffffff;
      transform: translateY(-10px);
    }

    /*responsive*/
    @media (max-width: 767px) {
      .footer-col {
        width: 50%;
        margin-bottom: 30px;
      }
    }
    @media (max-width: 574px) {
      .footer-col {
        width: 100%;
      }
    }

    #footer {
      margin-top: 20px;
    }

    .navbar-brand img {
      width: 50px;
      height: 50px;
    }
  </style>
  <body>
    <nav class="navbar navbar-expand-lg bg-light py-2 px-0 box-shadow mx-3">
      <div class="collapse navbar-collapse" id="topNavbar">
        <ul class="navbar-nav">
          <li>
            <img
              src="https://upload.wikimedia.org/wikipedia/en/thumb/6/6e/Can_Tho_University_Logo.png/275px-Can_Tho_University_Logo.png"
              alt=""
              width="130px"
            />
          </li>
          <li class="navbar-item li-hover">
            <a class="nav-link">
              <span></span>
              <span></span>
              <span></span>
              <span></span>
             Trang chủ
            </a>
          </li>

          <li class="navbar-item li-hover">
            <a class="nav-link" href="thanhvien.html">
              <span></span>
              <span></span>
              <span></span>
              <span></span>
             Thành viên
            </a>

          </li>

          <li class="nav-item dropdown li-hover">
            <a
              href="#"
              class="nav-link dropdown-toggle"
              data-bs-toggle="dropdown"
            >
              <span></span>
              <span></span>
              <span></span>
              <span></span>
              Đồ án
            </a>
            <div class="dropdown-menu">
              <a href="C:\Users\TOAN\Desktop\Nhom 3CE_files\xuat nhap.html" class="dropdown-item">Bia Tiger</a>
              <a href="C:\Users\TOAN\Desktop\Nhom 3CE_files\Help\xuat nhap.html" class="dropdown-item">Bia Sài Gòn</a>
              <a href="C:\Users\TOAN\Desktop\Nhom 3CE_files\thong ke.html" class="dropdown-item">Thống kê</a>
            </div>
          </li>
          <li class="navbar-item li-hover">
            <a class="nav-link">
              <span></span>
              <span></span>
              <span></span>
              <span></span>
              Liên hệ
            </a>
          </li>
        </ul>
      </div>
    </nav>
    <script>
  function thongKe()
    {
       
            if (request.status == 200) {
                var data = JSON.parse(request.responseText);
                //console.log(data);
                var length = data.feeds.length;  //kich thuoc du lieu
                //loc bo cac phan tu null
                dataNhap = new Array();
                dataXuat = new Array();
                for(i=0;i<length;i++){
                  if (data.feeds[i].field4 != null){
                    dataNhap.push(data.feeds[i].field4);
                  }
                  if (data.feeds[i].field5 != null){
                    dataXuat.push(data.feeds[i].field5);
                  }
                }
                // hiển thị số lượng tồn kho
                tongXuat=0, tongNhap=0, tonKho=0;
                //tính tổng xuất
                for(i=0;i<dataXuat.length;i++){
                  tongXuat += parseInt(dataXuat[i]);
                }
                //tính tổng nhập
                for(i=0;i<dataNhap.length;i++){
                  tongNhap += parseInt(dataNhap[i]);
                }
                //tính tồn kho
                tonKho = tongNhap - tongXuat;
                document.getElementById("thongke").innerHTML = "Tổng số sản phẩm đang trong kho:"+tonKho;
                //Ve bieu đồ nhập xuất
                var yNhap = new Array();
                var yXuat = new Array();
                var xNhap = new Array();
                var xXuat = new Array();
                for(var i=0;i<length;i++){
                  if (data.feeds[i].field4 != null){
                    yNhap.push(data.feeds[i].field4);
                    xNhap.push(data.feeds[i].created_at);
                  }
                  if (data.feeds[i].field5 != null){
                    yXuat.push(data.feeds[i].field5);
                    xXuat.push(data.feeds[i].created_at);
                  }
                }
                //bieu đồ
                new Chart("chartNhap", {
                    type: "bar",
                    data: {
                        labels: xNhap,
                        datasets: [
                        {
                            fill: false,
                            backgroundColor: "red",
                            label: "Quá trình nhập hàng",
                            data: yNhap
                        }, 
                        ]
                    },
                    options: {
                        plugins:{
                            legend: {
                              display: true,
                            }
                        },
                        scales: {
                            yAxes: [{
                              display: true,
                              ticks: {
                                beginAtZero: true,
                                //max: (yNhap.max)
                              }
                            }]
                        }
                    }
                });
                new Chart("chartXuat", {
                    type: "bar",
                    data: {
                        labels: xXuat,
                        datasets: [
                        {
                            fill: false,
                            backgroundColor: "blue",
                            label: "Quá trình xuất hàng",
                            data: yXuat
                        }, 
                        ]
                    },
                    options: {
                        plugins:{
                            legend: {
                                display: true,
                            }
                        },
                        scales: {
                            yAxes: [{
                                display: true,
                                ticks: {
                                    beginAtZero: true,
                                    //max: (yXuat.max)
                                }
                            }]
                        }
                    }
                });

            } else {
            // We reached our target server, but it returned an error
            }
        };
        request.send();

        
        //request.open('GET', urlHere, true);
        //request.send();
    }
</script> 
<style>
* {
  box-sizing: border-box;
}

body {
  margin: 200;
  font-family: Arial, Helvetica, sans-serif;
}

/* Style the side navigation */
.sidenav {
  height: 100%;
  width: 200px;
  position: fixed;
  z-index: 1;
  top: 0;
  left: 100px;
  background-color: #111;
  overflow-x: hidden;
}


/* Side navigation links */
.sidenav a {
  color: white;
  padding: 16px;
  text-decoration: none;
  display: block;
}

/* Change color on hover */
.sidenav a:hover {
  background-color: #ddd;
  color: black;
}

/* Style the content */
.content {
  margin-left: 300px;
  padding-left: 20px;
}
</style>
</head>
<body onload="thongKe()">

<div class="sidenav">
  <a href="https://anhanh1232.github.io/Website/">Trang chủ</a>
  <a href="https://anhanh1232.github.io/Website/xuatnhap.html">Nhập xuất hàng</a>
  <a href="https://anhanh1232.github.io/Website/thongke.html">Thống kê</a>
</div>

<div class="content">
  <p>Quá trình nhập hàng</p>
  <form name="form2">
        <input type = "button" value = "Kiểm tra" onclick = "thongKe()">
  </form>
  <p id="thongke"> </p>
  <canvas id="chartNhap" style="width:100%;max-width:700px"></canvas>
  <p>Quá trình xuất hàng</p>
  <canvas id="chartXuat" style="width:100%;max-width:700px"></canvas>
</div>

    <div id="footer" style="margin-top: 87px;">
      <footer class="footer mx-3">
        <div class="container text-center">
          <div class="row justify-content-center">
            <div class="footer-col">
              <h4>follow us</h4>
              <div class="social-links mt-4">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
                <a href="#"><i class="fab fa-linkedin-in"></i></a>
              </div>
            </div>
          <div class="row justify-content-center mt-5">
            <div style="color: #bbbbbb">COPYRIGHT &copy NHÓM 2 </div>
          </div>
        </div>
      </footer>
    </div>

  </body>
</html>
